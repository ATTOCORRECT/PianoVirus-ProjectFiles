[gd_scene load_steps=49 format=3 uid="uid://co3x8wqu1jmbh"]

[ext_resource type="PackedScene" uid="uid://y712fbtjxkb3" path="res://Scenes/Panels/Map/map.tscn" id="1_a0s2q"]
[ext_resource type="Script" path="res://Scripts/minigame_controller.gd" id="1_arlly"]
[ext_resource type="Script" path="res://Scripts/settings.gd" id="2_46fxp"]
[ext_resource type="Script" path="res://Scripts/player_look.gd" id="2_iksiu"]
[ext_resource type="PackedScene" uid="uid://cnk5hfy0d6gxh" path="res://Scenes/Minigames/Input minigame/input_minigame.tscn" id="2_y00iq"]
[ext_resource type="PackedScene" uid="uid://bwq158p2pvwph" path="res://Scenes/Panels/DetailPanel/planet_detail_panel.tscn" id="3_jihco"]
[ext_resource type="Script" path="res://Scripts/trend.gd" id="3_rmms6"]
[ext_resource type="Texture2D" uid="uid://7wxx3k7kfttf" path="res://Assets/Textures/Trend icons/icon_sprites4.png" id="5_k0avo"]
[ext_resource type="Script" path="res://Scripts/audio_manager.gd" id="5_yg1gs"]
[ext_resource type="Texture2D" uid="uid://bytiwcqa6ahta" path="res://Assets/Textures/Trend icons/icon_sprites3.png" id="6_5nl3h"]
[ext_resource type="AudioStream" uid="uid://bysgpcdqw1lkw" path="res://Assets/Sound/Music/song draft 9.wav" id="6_qfyyw"]
[ext_resource type="Texture2D" uid="uid://c61cjm74rtecm" path="res://Assets/Models/buttons/console_big_button.png" id="7_g6t8n"]
[ext_resource type="AudioStream" uid="uid://d6qek8us5q8o" path="res://Assets/Sound/Music/minigame draft 2.wav" id="7_jsvj4"]
[ext_resource type="Texture2D" uid="uid://dduj6w66ns2ws" path="res://Assets/Textures/Trend icons/icon_sprites2.png" id="7_me6gd"]
[ext_resource type="AudioStream" uid="uid://by5lra87s28sg" path="res://Assets/Sound/SFX/Takeoff.wav" id="7_qpmp5"]
[ext_resource type="PackedScene" uid="uid://bsb62k76bfl8e" path="res://Scenes/Panels/TrendPanel/trend_graph_panel.tscn" id="7_uatka"]
[ext_resource type="Texture2D" uid="uid://bfxl853n2bbkp" path="res://Assets/Textures/Trend icons/icon_sprites5.png" id="8_1brw8"]
[ext_resource type="AudioStream" uid="uid://cokqgfkw2hlw4" path="res://Assets/Sound/SFX/minigame success.wav" id="8_1t854"]
[ext_resource type="Texture2D" uid="uid://ctgoirmgbo6si" path="res://Assets/Models/buttons/console_small_button.png" id="8_e4v3j"]
[ext_resource type="AudioStream" uid="uid://c8p3pudmflris" path="res://Assets/Sound/SFX/minigame fail.wav" id="9_fgyp2"]
[ext_resource type="Texture2D" uid="uid://dhobbjaom8q13" path="res://Assets/Textures/Trend icons/icon_sprites7.png" id="9_gyfyg"]
[ext_resource type="AudioStream" uid="uid://b634acexltyft" path="res://Assets/Sound/SFX/high pitched beep.wav" id="10_ma6im"]
[ext_resource type="Texture2D" uid="uid://dxw7y627nmo2b" path="res://Assets/Textures/Trend icons/icon_sprites1.png" id="10_riyjj"]
[ext_resource type="Texture2D" uid="uid://bds7yfcb22wrl" path="res://Assets/Textures/Trend icons/icon_sprites6.png" id="11_vxvie"]
[ext_resource type="PackedScene" uid="uid://cl1oc80j2h8t" path="res://Scenes/Panels/DirectMessages/dm_panel.tscn" id="12_nuhxh"]
[ext_resource type="PackedScene" uid="uid://dm8sbepqrqqf" path="res://Assets/Models/Map Housing/map_housing.glb" id="15_d3e6a"]
[ext_resource type="PackedScene" uid="uid://dfl2r6koee71t" path="res://Scenes/Panels/Engagement Panel/engagement_panel.tscn" id="15_v5d7t"]
[ext_resource type="PackedScene" uid="uid://b76d2niwraray" path="res://Assets/Models/Console/console.glb" id="19_1nssx"]
[ext_resource type="Material" uid="uid://cc3dgmf83661p" path="res://Assets/Models/Debug/base_material.tres" id="19_aaicx"]
[ext_resource type="PackedScene" uid="uid://4q6ffdbifmiq" path="res://Assets/Models/Center Console/center_cover.glb" id="19_kqdby"]
[ext_resource type="PackedScene" uid="uid://dy78uo5twypni" path="res://Assets/Models/Ship/ship.glb" id="25_x4phh"]
[ext_resource type="PackedScene" uid="uid://c2jsmrlnsia25" path="res://Assets/Models/Console/console_corner.glb" id="26_2k6bk"]
[ext_resource type="PackedScene" uid="uid://cj7lt7h1eln8u" path="res://Assets/Models/Ship/ship_flipped.glb" id="26_bjhni"]
[ext_resource type="PackedScene" uid="uid://dfw26nh8vrc34" path="res://Assets/Models/Console/console_corner_flipped.glb" id="27_i3u00"]

[sub_resource type="Resource" id="Resource_0rod6"]
script = ExtResource("3_rmms6")
color = Color(0.983247, 0.434194, 1, 1)
name = "Chatting"
icon = ExtResource("5_k0avo")

[sub_resource type="Resource" id="Resource_ddfdv"]
script = ExtResource("3_rmms6")
color = Color(0.586698, 0.675375, 1, 1)
name = "Music"
icon = ExtResource("6_5nl3h")

[sub_resource type="Resource" id="Resource_3g2ty"]
script = ExtResource("3_rmms6")
color = Color(0.698878, 0.735727, 1.15514e-06, 1)
name = "Nature"
icon = ExtResource("7_me6gd")

[sub_resource type="Resource" id="Resource_4mpih"]
script = ExtResource("3_rmms6")
color = Color(4.81307e-07, 0.815405, 0.610997, 1)
name = "Gaming"
icon = ExtResource("8_1brw8")

[sub_resource type="Resource" id="Resource_vgo3p"]
script = ExtResource("3_rmms6")
color = Color(0, 0.769482, 0.941955, 1)
name = "Technology"
icon = ExtResource("9_gyfyg")

[sub_resource type="Resource" id="Resource_y3loq"]
script = ExtResource("3_rmms6")
color = Color(1, 0.586579, 0.216533, 1)
name = "Sports"
icon = ExtResource("10_riyjj")

[sub_resource type="Resource" id="Resource_egp12"]
script = ExtResource("3_rmms6")
color = Color(1, 0.530439, 0.59765, 1)
name = "Movies"
icon = ExtResource("11_vxvie")

[sub_resource type="Environment" id="Environment_llmir"]
background_mode = 1

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qa3c5"]
resource_local_to_scene = true
albedo_texture = ExtResource("7_g6t8n")
texture_filter = 0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_b4eex"]
resource_local_to_scene = true
albedo_texture = ExtResource("8_e4v3j")
texture_filter = 0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hp3yr"]
resource_local_to_scene = true
albedo_texture = ExtResource("8_e4v3j")
texture_filter = 0

[sub_resource type="Animation" id="Animation_jcwoh"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0.8, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:position:z")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(-2.4, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".:rotation:x")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0.261799, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/4/type = "bezier"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath(".:rotation:y")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/5/type = "bezier"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath(".:rotation:z")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_jetes"]
resource_name = "animate_minigame_panel"
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 2, 0),
"points": PackedFloat32Array(0.8, -0.25, 0, 0.133333, -0.00774598, 0.77091, -0.110967, 0.0896858, 0.2, -0.161644, 3.5, -0.166667, 1.1673, 0.25, 0),
"times": PackedFloat32Array(0, 0.333333, 1)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:position:z")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 2, 0),
"points": PackedFloat32Array(-2.4, -0.25, 0, 0.0666667, -0.0107768, -2.40064, -0.111026, 0.01733, 0.233333, -0.0364208, -1.5, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.333333, 1)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".:rotation:x")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(0.261799, -0.25, 0, 0.7, -0.153245, 1.5708, -0.133333, -1.09486, 0.25, 0),
"times": PackedFloat32Array(0, 1)
}
tracks/4/type = "bezier"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath(".:rotation:y")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1)
}
tracks/5/type = "bezier"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath(".:rotation:z")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_jef2d"]
_data = {
"RESET": SubResource("Animation_jcwoh"),
"animate_minigame_panel": SubResource("Animation_jetes")
}

[node name="Game 2" type="Node3D"]

[node name="MinigameController" type="Node" parent="." node_paths=PackedStringArray("minigame_panel_animator")]
unique_name_in_owner = true
script = ExtResource("1_arlly")
minigame = Array[Resource]([ExtResource("2_y00iq")])
minigame_panel_animator = NodePath("../AnimationPlayer")

[node name="Data" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("2_46fxp")
trends = Array[ExtResource("3_rmms6")]([SubResource("Resource_0rod6"), SubResource("Resource_ddfdv"), SubResource("Resource_3g2ty"), SubResource("Resource_4mpih"), SubResource("Resource_vgo3p"), SubResource("Resource_y3loq"), SubResource("Resource_egp12")])

[node name="AudioManager" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("5_yg1gs")

[node name="Global" type="AudioStreamPlayer" parent="AudioManager"]
stream = ExtResource("6_qfyyw")
volume_db = -12.0
autoplay = true

[node name="Minigame" type="AudioStreamPlayer" parent="AudioManager"]
stream = ExtResource("7_jsvj4")
volume_db = -12.0
autoplay = true

[node name="Button" type="AudioStreamPlayer3D" parent="AudioManager"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.28916, -1.71733, -4.56006)
stream = ExtResource("7_qpmp5")
volume_db = -12.0

[node name="MinigameSuccess" type="AudioStreamPlayer3D" parent="AudioManager"]
stream = ExtResource("8_1t854")

[node name="MinigameFail" type="AudioStreamPlayer3D" parent="AudioManager"]
stream = ExtResource("9_fgyp2")
volume_db = 40.237

[node name="GenericSpeaker" type="AudioStreamPlayer3D" parent="AudioManager"]
volume_db = -15.856

[node name="TrendSelectOne" type="AudioStreamPlayer3D" parent="AudioManager"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.212569, -2.04113, -2.99688)
stream = ExtResource("10_ma6im")
volume_db = -5.0

[node name="TrendSelectTwo" type="AudioStreamPlayer3D" parent="AudioManager"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.233177, -2.01147, -2.95732)
stream = ExtResource("10_ma6im")
volume_db = -5.0

[node name="Player" type="Camera3D" parent="."]
unique_name_in_owner = true
environment = SubResource("Environment_llmir")
script = ExtResource("2_iksiu")

[node name="AudioListener3D" type="AudioListener3D" parent="Player"]

[node name="PlanetDetailPanel" parent="." instance=ExtResource("3_jihco")]
transform = Transform3D(1, 0, 0, 0, 0.906308, 0.422618, 0, -0.422618, 0.906308, 0, -1.1, -3.4)

[node name="MeshInstance3D" parent="PlanetDetailPanel/WarpButton" index="1"]
surface_material_override/0 = SubResource("StandardMaterial3D_qa3c5")

[node name="MeshInstance3D" parent="PlanetDetailPanel/Button1" index="1"]
surface_material_override/0 = SubResource("StandardMaterial3D_b4eex")

[node name="MeshInstance3D" parent="PlanetDetailPanel/Button2" index="1"]
surface_material_override/0 = SubResource("StandardMaterial3D_hp3yr")

[node name="Map" parent="." instance=ExtResource("1_a0s2q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, -1.5, -4)

[node name="blockbench_export" parent="Map" instance=ExtResource("15_d3e6a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)

[node name="TrendGraphPanel" parent="." instance=ExtResource("7_uatka")]
transform = Transform3D(0.866026, 0, 0.5, 0, 1, 0, -0.5, 0, 0.866026, -4, 0, -4.5)

[node name="EngagementPanel" parent="." instance=ExtResource("15_v5d7t")]
transform = Transform3D(0.866025, 0, -0.5, 0, 1, 0, 0.5, 0, 0.866025, 4, -0.05, -4.5)

[node name="dm_panel" parent="." instance=ExtResource("12_nuhxh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5, -1, -3.7)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
root_node = NodePath("../MinigameMarker")
libraries = {
"": SubResource("AnimationLibrary_jef2d")
}

[node name="MinigameMarker" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.965926, -0.258819, 0, 0.258819, 0.965926, 0, 0.8, -2.4)

[node name="Environment" type="Node" parent="."]

[node name="OmniLight3D" type="OmniLight3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, -1.6)
omni_range = 10.0
omni_attenuation = 0.2

[node name="Right Console" parent="Environment" instance=ExtResource("19_1nssx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, -2, -4)

[node name="Right Corner" parent="Environment" instance=ExtResource("26_2k6bk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, -2, -4)

[node name="Left Corner" parent="Environment" instance=ExtResource("27_i3u00")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, -2, -4)

[node name="Center Cover" parent="Environment" instance=ExtResource("19_kqdby")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.5, -3)

[node name="Ship Right" parent="Environment" instance=ExtResource("25_x4phh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, -6)

[node name="Ship Left" parent="Environment" instance=ExtResource("26_bjhni")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, -6)

[node name="Interior mockup" type="Node3D" parent="Environment"]

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="Environment/Interior mockup"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -4, -3)
material_override = ExtResource("19_aaicx")
polygon = PackedVector2Array(0, 0, 5, 0, 8, 3, 8, 8, 4, 8, -4, 8, -8, 8, -8, 3, -5, 0)

[node name="CSGPolygon3D2" type="CSGPolygon3D" parent="Environment/Interior mockup"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 3, -4)
material_override = ExtResource("19_aaicx")
polygon = PackedVector2Array(0, 0, 4, 0, 7, 3, 7, 8, 4, 8, -4, 8, -7, 8, -7, 3, -4.06801, 0.0925572)

[connection signal="input_event" from="PlanetDetailPanel/WarpButton/Area3D" to="Map" method="_on_area_3d_input_event"]
[connection signal="input_event" from="PlanetDetailPanel/Button1/Area3D" to="PlanetDetailPanel/Trend Selection/Viewport/Trend Selection UI" method="_button_1_input_event"]
[connection signal="input_event" from="PlanetDetailPanel/Button2/Area3D" to="PlanetDetailPanel/Trend Selection/Viewport/Trend Selection UI" method="_button_2_input_event"]

[editable path="PlanetDetailPanel"]
[editable path="PlanetDetailPanel/Planet Detail"]
[editable path="PlanetDetailPanel/WarpButton"]
[editable path="PlanetDetailPanel/Trend Selection"]
[editable path="PlanetDetailPanel/Button1"]
[editable path="PlanetDetailPanel/Button2"]
[editable path="PlanetDetailPanel/Model"]
[editable path="TrendGraphPanel"]
[editable path="TrendGraphPanel/Interactive Screen"]
